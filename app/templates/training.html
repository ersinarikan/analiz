{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2>Model Eğitimi</h2>
    
    <!-- Eğitim Parametreleri -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">Eğitim Parametreleri</h5>
        </div>
        <div class="card-body">
            <form id="trainingForm">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="modelType">Model Tipi</label>
                            <select class="form-control" id="modelType">
                                <option value="content">İçerik Analizi</option>
                                <option value="age">Yaş Tahmini</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="epochCount">Epoch Sayısı</label>
                            <input type="number" class="form-control" id="epochCount" value="10" min="1">
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="batchSize">Batch Size</label>
                            <input type="number" class="form-control" id="batchSize" value="32" min="1">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="learningRate">Learning Rate</label>
                            <input type="number" class="form-control" id="learningRate" value="0.001" step="0.0001">
                        </div>
                    </div>
                </div>
                <div class="mt-3">
                    <button type="button" id="startTrainingBtn" class="btn btn-primary">Eğitimi Başlat</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Eğitim Durumu -->
    <div class="card mb-4 training-info" style="display: none;">
        <div class="card-header">
            <h5 class="mb-0">Eğitim Durumu</h5>
        </div>
        <div class="card-body">
            <p id="trainingStatusText">Eğitim başlatılıyor...</p>
            <div class="progress">
                <div id="trainingProgressBar" class="progress-bar" role="progressbar" style="width: 0%;" 
                     aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
            </div>
        </div>
    </div>
    
    <!-- Eğitim Sonuçları -->
    <div id="trainingResultsSection" class="card mb-4" style="display: none;">
        <div class="card-header">
            <h5 class="mb-0">Eğitim Sonuçları</h5>
        </div>
        <div class="card-body">
            <!-- Metrikler -->
            <h6>Performans Metrikleri</h6>
            <div id="metricsContainer" class="row mb-4">
                <!-- Metrikler buraya dinamik olarak eklenecek -->
            </div>
            
            <!-- Eğitim Geçmişi Grafiği -->
            <h6>Eğitim Geçmişi</h6>
            <div class="chart-container" style="position: relative; height:400px;">
                <canvas id="trainingHistoryChart"></canvas>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        setupTrainingButton();
    });
</script>
{% endblock %} 